import socket
import tkinter
import customtkinter
from tkinter import filedialog
from tkinter import StringVar
import os
import sys
from PIL import ImageTk, Image
from io import BytesIO

ip_server = ''

# Modes: system (default), light, dark
customtkinter.set_appearance_mode("System")
# Themes: blue (default), dark-blue, green
customtkinter.set_default_color_theme("green")

app = customtkinter.CTk()  # create CTk window like you do with the Tk window
app.geometry("1280x800")
app.title('Face_search')
app.resizable(False, False)

var = StringVar()
stat = StringVar()

stat.set('Server connect ðŸŸ¢')
var.set('Id: ')

a = 0

pictures = b'\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x01\x81\x00\x00\x00\xc0\x08\x06\x00\x00\x00\xe2*\xdfY\x00\x00\x00\x01sRGB\x00\xae\xce\x1c\xe9\x00\x00\x00\x04gAMA\x00\x00\xb1\x8f\x0b\xfca\x05\x00\x00\x00\tpHYs\x00\x00\x0e\xc3\x00\x00\x0e\xc3\x01\xc7o\xa8d\x00\x00\x0fAIDATx^\xed\xdd\xb1o\x14\xd7\x16\xc0\xe1\xeb\xc7{E\x94\x8a\xc2\x02\xd1Xr\xe7E.\xb0\xa2\x88\x06GZ*C*(\xd3\xd2\x10\xbb\xb5\xa5\x886OH\xa6\x0c\n)h)\x9d\nQ<\xc1J\xb8@\x16\x8a\x84^\xb3\xee\xfcj\xfe\x80(M\xe0\xbe\x99\xdd\x19{\xc7;;w\xf1\x9d\xb3\xf7\xde9\xbf\xcf\xba\xf2\xee\x8c\x99=g\xe6.\xc7\xc3\xcc\x1e\x96l\xc6\x00\x00T\xfaG\xf1\x1d\x00\xa0PQ\x04~7;KKfi\xe6\xb8c\xee\xd4./G\xe8\xf5;Y\x06>|\xf3\xf7}}\x97\xd0\xf11?\xd2\xce\xdfw=\xf3G\xf6\xfd\x1d\x16g\x02\x00\xa0\x18E\x00\x00\x14\xa3\x08\x00\x80b\x14\x01\x00P\x8c"\x00\x00\x8aQ\x04\x00@\xb1\x8e\x14\x81\x13\xf3\xbc\xee\xd6\xae\x1f\x17ucW\xe8\xd7w\x89=>i\xda\xf3\xf7\xc5\xfc\xe9r\xfe\x1d)\x02\xab\xe6\x81\xb5&\xff\xf0s9\x86\xfb\xfdb\xdd"\x84~}\x97\xd8\xe3\x93\xa6=\x7f_\xcc\x9f.\xe7\xdf\xc93\x81\xdbO\x8e\xcd\xda\xd7\x83b\xdd"\x84~}\x97\xd8\xe3\x93\xa6=\x7f_\xcc\x9f.\xe7\xdf\xb93\x81\xbcB\x0f\xccZ\xb1|QB\xbf\xbeK\xec\xf1I\xd3\x9e\xbf/\xe6O\x97\xf3\xe7\xc20\x00(F\x11\x00\x00\xc5(\x02\x00\xa0X\'\x8b@\xdf\x1c\x9b\xe3?\x03^\xbd\xff\xea\x93\xb1\x97\x8a\xc71\x8a=>a\xc1\xe7G\xea\x98?\xdd\x9a?vd\xd7\xaeg\x0f\xf3\xa7\xf5c\xd9.\xd7./\xc7\x8a\xdd\xa8]^\x8e-\xbbU\xbb\xbc\x1c\xae\xf5\x1bv\xa5vy9V\xec\x8d\xda\xe5\xe5\xd8\xb6\x07\xe3Dg\xf0\xcd\x7f=\xdb\xc2\xd8\xcb\xbb\x97\xad\xb9\xf6\xce\xbe\xbe\x95-\xbf^.\xf5%\x1d\xdf\x81\xdd\xae\xfds\xe5p\xef\x7f\xd9\xe3\x1fz~\xb8\xf6\x8ft\xfc\xa1\xdf\x7fg\xfb\x87\xf9S7\\\xf3\'n\xc5\x99\xc0M\xb39~0\xc37\xd9W\x93\xef\xcd\xa3\xe2\xeay\xfdxe^\xd5./\x87k\xfd\xa3\xec\x15\x9a\xf4\xcc\xd5\xe2\xd1\xc5\xf8\xe6\xbf\x99mal\xf5\xbbl\xba\xfc\xf4\xad\xe9\xff\x90=\xd9,\x97\xfa\n\x1d\xdf\x95l\x0f7\x91>\xfe\xa1\xe7\xc7=\xf3\xb4x\xad\xfc\xee\x90\xfe\xfep\xf4\xdd<<(^_:\xfe\xd0\xef\xbf\xa7\xd9\x1e\x18c\xfet\x0f\xd7\x04$\xfcu\xc9,}*\x1e\xc7(\xf6\xf8"\x97\xdf"\xa8\xfas\x06\xcc\x9fN\xa1\x08\x00\x80b\x14\x01\x00P\x8c"\x00\x00\x8aQ\x04\x00@\xb1\xd6\x8b\xc0\xf1\x93\xdb\xa7\x8d\x96\xce\x86\xef\xff\xf6\xff\xdc\x9c\x14\xdb\xbf\x98j\x03\xa8\xd3A+\xe1\xd6\xc9\x1c\xff\xf8\xe6\xc7\xe8>\xf1g\xf7\x8b\x9f\r\x1d\xff\x19\xe9\xfd\xdf\xdb\x1b\x8c\xee\x93\x97\xa2e\xfe\xc4D\xe4L \xbf\x85\xaez\x0b\x96\xef-\\\x0f\xccj\xb1\xed\x8b9k\x00U\x8e\xd1-~\x10\xd1\xfe\xf1\x8fk~\xe4\x7f\t\xae\xed\xbe\x99\xf8\xf9\xd0\xf1WI\xef\xff7\xbbk\xa2\x1f\x96\xea\xfa\xfc\x89\x8dH\x11\xc8o\xa1\xabV\xf4\xb8*5\xad\x84e\xb5\x7f\xfc\xe3\x9a\x1f\x83\xbd\xde\xc4k\xe7#t\xfcU\x8b\xd8\xff\xf9\x19\x81\x94\xae\xcf\x9f\xd8\x88]\x13\x18\xed\x84\xd6>L\xd3^\xa5\xce+t>\xc9 \xab\xdd\xe3\x1f\xcf\xfc\xa8\x9e\x01\x94#t\xfc\xd3\x16\xb2\xff\x7f-?B\xd6\xbe\xae\xce\x9f\x18qa\x18\x00\x14\xa3\x08\x00\x80b\x14\x01\x00PL\xa4\x08D\xdfjU\xb8\x15\xae\xf6\xfc\x93o5L\xfca\x11\xffb\xd9\x11\xffV\xd2\xcd\xadV\xe5[\xbd6\xb7\xa2u\xb5\xc2M=\x7f\xdfV\xd2\xb1\xb7\xd2v!~\xe2\xf7\x91z\xfc~\x8a3\x01\xdfV\xc5\xd2\xadV}[\xd1\xbaZ\xe1\xa6\x9e\xbfo+\xe9\xd8[i\xbb\x10?\xf1\xfbH=~?:\xaf\tho\x85+\x9d\x7f\xea\xfb\x97\xf8\xc3"\xfe\x85\xe2\xc20\x00(F\x11\x00\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14\xeb\\\x11p\xb5\xa2\x95n\x85\x0b\x00)\xe9\xe4\x99\x80\xab\x15\xadt+\\\x00HE\'\x8b\xc0<\xadh%[\xe1\x02@*:{M`\xaeV\xb4\x82\xadp\x01 \x05\\\x18\x06\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14\xebf\x11H\xbd\x15\xad4\xe9\xfdC+\xe0\xb0\x88?\xac\xc4\xe2/\x8a\xc0\x919\x1c?\x98\xe1\x8f\xec\xab\xc9\xd0|,\x1e\x85v\xf2\xf6\x831\x8f\xdf\x9b\xc1\x8b\xec\xc9\xe1\xd1x\xa1S\xec\xf9\x7f\xcc^\xa1\x89+\xbe\xc3,\xc3\xb1\xfa\xfd\xe3\x9b\xbfk\xfb\xd2\x88\x9f\xf8}\xa4\x1e\xbf\x9f\xa2\x08\xf8\xb6Ru\xb5r\x96\xfe\x8f\xa2]\xad\xa2]b\xcf\xffQ\xf6\nM|[\xdd\xd2\n\x98\xf8}\x10\x7f\xd8\xf8\xfdt\xf3\x9f\x83RoE+Mz\xff\xd0\n8,\xe2\x0f+\xb1\xf8\xb90\x0c\x00\x8aQ\x04\x00@1\x8a\x00\x00(F\x11\x00\x00\xc5Z/\x02\xaeV\xce\xf5\xa3\xbd\xf5\xa1[E\xcb\xe4\xff\xdc\x9c\x14\xdb\x07\x806\x89\x9c\t\xb8Z9O\x8fv\xd7\x87n\x15\xdd~\xfe\x0f\xccj\xb1m\x00h\x93H\x11\x98\xa7\x95su\xb4\xbf>d\xab\xe8\xf6\xf3\xe7L\x00\x80\x0c\xb1k\x02s\xb5r>\x1dB\xeb\x03\xb6\x8an7\x7f\xce\x04\x00\xc8\xe0\xc20\x00(F\x11\x00\x00\xc5(\x02\x00\xa0\x98L\x11H\xbd\x15\xac\xaf\xd8\xf3\x17\x8e/\xbfE7\xe9\xff\xc8\x9fV\xc6A1\x7f\x16\xcc\x8e\xec\xda\xf5\xeca\xfe\xb4~,\xdb\xe5\xda\xe5\xe5X\xcf\xb60\xf6\xf2\xeeek\xae\xbd\xb3\xafoe\xcb\xaf\x97Kc\x17{\xfe\xd2\xf1\x1d\xd8\xed\xda?W\x8e\r\xbbR\xbb\xbc\x1c+\xf6F\xed\xf2rl\xd9\xad\xda\xe5\xe5\xf0]\xef\x8eo\xa3vy9\xb6\xb3=0\x16f\xfe\xa6\xfe\xfec\xfe\x84\x9d?~\x8a3\x01\xdd\xadT\xe3\xcf_:\xbe{\xe6iq\'\xd2p\xbf?\xfa\x9cC\xfe\xfd\xec\xee&W+\xeb\x9e\xb9Z<\n\xe3J\x16A\x13W\xabo\xdfV\xe4\xbeR\x7f\xff1\x7f\xc2\xce\x1f?2\xff\x1c\x94z+X_\xb1\xe7\xef\x88/\xff\x9c\xc3\xe8\x16W\xadhe\xec\x85\xf9\x93\xd6\xfc\xe1\xc20\x00(F\x11\x00\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14\xa3\x08\xa0\xd6\xe8>\xedg\xf7;\xd7\xc0\xce\xd5\xea;t+\xf2\xae`\xfe\xa4\x83"\x80)\xf9$^\xdb}3q\x0b\\\xb7\x1a\xd8\xb9Z}\x87nE\x9e:\xe6OZ\xf3\x87"\x80)\x83\xbd\xde\xb9\xdft\xba\xd5\xcaz\x9eV\xdf![\x91\xa7\x8e\xf9\x93\xd6\xfc\xa1\x08\xa0\xa2\xfa\x1b\\9\xba\xd7\xcaz\xaeV\xdf\x01[\x91\xa7\x8a\xf931\x12\x99?\x14\x01\x00P\x8c"\x00\x00\x8aQ\x04\x00@1\x99"\x90z+^_\xb1\xe7\xcf\xf1\xe9v\xfe\xda\x8f\xaf\xb4\x8e\xed\xdf\xd6\x8b\xc0\xc9\xdb\x0f\xc6<~o\x06/\xb2\'\x87G\xe3\x85\x8a\xc4\x9e?\xc7\xa7\xdb\xf9k?\xbe\xd2\xba\xb8\x7f\x97l~\x19{B~\xeb\xd3\x8ey\x9a}\xed\x98\xde\xff\xb6\xbf\xf8\nw\xfe\xe7{_\xfd\xc7|\xfe\xd7?\xcd?\xfe{\x90\xdc\x1d\x16\xb1\xe7\x1f:>\xdf\xd7\x0fM\xfa\xf8\xf8\n}|\xa51\x7f\xe2S{&\xe0\xdd\n6\xf1V\xbc\xb1\xe7\x1f:>\xef\xd7\x0f-\xf2\xf9\xd9\xf5\xf7\x1f\xf3\'.\\\x18\x06\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14\xa3\x08\x00\x80b3\x8b@\xb5\x15\xect\x83\xa4\xea\xe8^+\xde\xd8\xf3\x0f\x1d\xdfE_\xbf~,n}*\xf3\xb3\xeb\xef?\xe6OD\xf2[D\'\r\xf7\xfb\xb6\xbf?,\x9e]\\\xbe\x1d\xf3\xf0\xa0x\x96\x8e\xd8\xf3\x0f\x1d_[\xaf\x1f\x9a\xd4\xf1\xf1\x15\xfa\xf8Jc\xfe\xc4\xa7\xf6L`\xba\x15\xec\x97W\xd2\xbcb\xa6*\xf6\xfcC\xc7\xd7\xc6\xebW\xc7\xe2\xd7\xc7<?\xbb\xfe\xfec\xfe\xc4e\xea\xc3b\x00\x00=\xb80\x0c\x00\x8aQ\x04\x00@1\x8a\x00\x00(F\x11\x00\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14\xa3\x08\x00\x80b\x14\x01\x00P\x8c"\x00\x00\x8aQ\x04\x00@1\x8a\x00\x00(F\x11\x00\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14\xa3\x08\x00\x80b\x14\x01\x00P\x8c"\x00\x00\x8aQ\x04\x00@1\x8a\x00\x00h6\xfa\xef\xe6\xed\x81\xdd\xce\x1e\xe6O\xeb\xc7\x96\xdd\xaa]^\x8e\xd8\xd7og\x196\xd1\x9e\xbfK\xec\xfb\xa7\xeb\xf9I\xe7\xef\xd2\xf5\xfd\xe3\x9b_\xec\xfb\xbf9>\xce\x04\x00@1\x8a\x00\x00(F\x11\x00\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14\xa3\x08\x00\x80bJ\x8a\xc0\x89y\xbe\xb4d\x96\xce\x8f\x1f\x7f/\xd6w]\xd7\xf3\xe7\xf8\xea\xce\xdfEz\xff\xc4\xbe\xff\x9b\xe3SR\x04V\xcd\x03k\xf3\xcfD\x9c\x8e\xe1~\xbfX\xa7A\xd7\xf3\xe7\xf8\xea\xce\xdfEz\xff\xc4\xbe\xff\x9b\xe3Sy&p\xfb\xc9\xb1Y\xfbzP\xac\xd3\xa0\xeb\xf9s|u\xe7\xef"\xbd\x7fb\xdf\xff\xcd\xf1\xa9;\x13\xc8+\xe0\xc0\xac\x15\xcb\xb5\xe8z\xfe\x1c_\xdd\xf9\xbbH\xef\x9f\xd8\xf7\x7fs|\\\x18\x06\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14\xd3Y\x04\xbe\xfad\xec\xa5\xe2\xb1F\x1d\xcf\xbfo\x8e\xcd\xf1\x9fz\xef\x8e\xd1\x9e\xbf\x93\xf4\xfc\x8f\xfd\xfdu.\xbe\xa2\x08\x1c\x99\xc3\xf1\x83\x19\xfe\xc8\xbe\x9a\x0c\xcd\xc7\xe2Q\xecN\xde~0\xe6\xf1{3x\x91=9<\x1a/T\x9f\xff\xeffg\xe2\xee\x81\xe9\xf1o\xf3\xb2\xf8\xc9z\xd2\xf9\x7f\xcc^\xa1\xc9K\xf3s\x11koo`\x06{\xbd\xd1w\xf3\xec~\x11\xffN\x96a\x93\xd8\x8f\xbft\xfe\xb1\x1f\xff\xf6\xc8\xbc\xff\x0f\xb3-\x8c\xd5o\xdf\x97p|v$\xf6~\xda\xed\x19\xee\xf7\xad\xf9\xe5o\xfb\xf9\xb7,\xee\x87e\xd4\xe4\xaf\xb9\x9f:\xf93\xff\xdb\xca\xbf~\xfb\xbed\xe3\xd3\xf9\xcfA\x7f]2K\x9f\x8a\xc7\x1ai\xcf\x1f\xbaI\xcf\xff\xd8\xdf_\xe7\xe2\xe3\xc20\x00(F\x11\x00\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14k\xbd\x08\x1c?\xb9]s\x8b\xd9\x1dsgj\xd9\xe4X\xdc\xfa\xfc\xd6\xb9\xfc>j)\xe4/\x91\xffssRl\xffb\xaa\r\xb4N\x87@\xab_\xf2\xd7=\xffS$r&\xd0\xdf\x1f\x8e\x9a\x15\x9d\x8dW\xe6U\xe5\xf9\xf9\xb1\xd8\xf5ov\xd7D?LC\xfem\xe7\xff\xc0\xac\x16\xdb\xbe\x98\xb3\x06Z\xe5\x18\xee\x93\xbf\x14\xed\xf3?5"E \xefRW\xfd\x8d \x9e\xdf\x04\xca1\xfa0\x8d\x10\xf2o;\xffv\x7f\x13\x96n\xf5K\xfe\xba\xe7\x7fj\xc4\xae\t\x8c&\xd9\xc3\x83\xdaJ<=\x02\xad\xff\xf5^\x11m\xfb\xc8\xbf\xcd\xfc\xdb\xfbM8\xff\r8\xffKJ\x1a\xf9\xeb\x9e\xff)\xe1\xc20\x00(F\x11\x00\x00\xc5(\x02\x00\xa0\x98H\x11\xa0\x95/\xf9G\x9d\xbfp\xab_\xed\xf9G\xdfJYXr\xc7\xdf\x8e\xec\xda\xf5\xa9\xces\x93c\xd9.\xd7./\xc7\x8a\xbdQ\xbb\xbc\x1c\xae.w\xd2\xeb]]\x0ec\xcf_\xbaKc\xec\xf9o\xd8\x95\xda\xe5\xe5p\xc5\xb7\x9ee8\xf6\xf2\xeeek\xae\xbd\xb3\xafoe\xcb\xaf\x97KS\xcf\x7f\xc5n\xd4./\xc7\xd9\xfc\x91\xc9\xdf\xb5\x7fc\xa7{\xfe\x17g\x027\xcd\xe6\xf8\xc1\x0c\xdfd_Mz\xe6j\xf1(M\xe4\x1fw\xfeW\xb2Wh\xe2\x8ao3\xcbpl\xf5\xbb\xec\xed\xfa\xd3\xb7\xa6\xffC\xf6d\xb3\\\x9az\xfe\xdf\x9bGuw\xbf\x9c\x8e\xa7\xa6\xbc\x0fF&\x7f\xd7\xfe\x8d\x9d\xee\xf9\xcf5\x01\xe8C+q\xdd\xad\x94\xb5\xa3\x954\x00\xa0D\x11\x00\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14SR\x04\x16\xd7JWF\xea\xf1cQ\xaa\x8d\xdb\xcaq\xd6@\x8dV\xca8OI\x11Xl+\xdd\xf6\xa5\x1e?\x16\xc9\xd5\xca\x99V\xca\x98\xa4\xf2L@\xba\x95n\xfbR\x8f\x1f\x8b4O+gZ)\xa3\xa4\xeeL`Q\xadt\xdb\x95z\xfcX\xb4\xb9Z9\xd3J\x19\x19.\x0c\x03\x80b\x14\x01\x00P\x8c"\x00\x00\x8a\xe9,\x02\xa9\xb7\xbaU\xde\xaa\xd7[\xc7\xf7_\xf0V\xc6\xcc\xcf\xb8\x9d;>\x89\x14\x81\x8ffX<\xaa\xf7G\xf6\xd5\xe4\xd0\x1c\x15\x8fN\xde~0\xe6\xf1{3x\x91=9,\x97\x1ee?\xd1\xc4\xb5\xfda\x16\xe1b\xd4\xc7\xef+\xf6\xfc\xb5\x1f\x7fW\xfe/\xcd\xcf\x13w\xfd\x0c\xf6z\xe3\xbb\x7f\x9e\xdd/\xee\x06\xda1\xcd\x9f(\xf1\xcd\xdf\xb5\x7fc\xa7|\xfe\xdbs\x86\xfb}\xdb\xdf\x1f\x8e\xbe\x9b\x87\xb2]\xec\xe7w`\xb7\xa7zdO\x0eW?\xee\xb3~\xea\xa3\xbc~\xf9\xdb~\xfe-[~\x9a_{\xdb\x97V\x1f\xbf\xaf\xd8\xf3\xd7~\xfc\xa5\xe3\x93\xde\xbf\xb1\xd3=\xffk\xcf\x04\xf2[\x10;}\x1fz\xea\xadni\xd5\xeb\x87\xfd\'\x8b\xfd\x1b7ZI\x03\x00J\x14\x01\x00P\x8c"\x00\x00\x8aQ\x04\x00@\xb1\x99E`t\x9f\xf1\xe9-f\xd3\r\xa8\xaaCz\xfdssR\xc4\x15;W+\xdf\xfa1\xff\xfa\xd8[\x01\xcb\xe4\xaf\xfd\xf8\xfb\xe6O+\xf2EIq\xfe\xd7\x16\x81\xfc/\x99\xb5\xdd7\x13\xcd\xa6f4\xa0:\x1d\xd2\xeb\x1f\x98\xd5"\xb6\x14\xb8Z\xf9N\x8f/[\x1f{+\xe0\xf6\xf3\xd7~\xfc}\xf3\xa7\x15\xf9"\xa56\xffk\x8b@\xfea\x93j%\xf2\xaddqW\xc2\xb6\xcd\xd3\xca\xb7:\xbe|}\xcc\xad\x80\xdb\xcf_\xfb\xf1o\xf7L\x80V\xe4\xb2R\x9b\xffSE\xa0z\x06P\x0e\xdfJ\x16w%\x940W+\xdf\xd3q\xc1\xf5\x11\xb7\x02n7\x7f\xed\xc7\xbf\xbd3\x81\xfc\x0c \xffK\n\xb2R\x9a\xff\\\x18\x06\x00\xc5(\x02\x00\xa0\x18E\x00\x00\x14\xd3Y\x04\x84[\xdd\x06o\xe5\x1bZ\xec\xad\x84\xa5\xe3S\x9e?\xf3?\xb1\xe3oG|\xbb\xd4I\xaf\xdf\xb0+\xb5\xcb\xcb\xb1l\x97k\x97\x97c\xdd\xee\x8e\x13\xb5/\xef^\xb6\xe6\xda;\xfb\xfaV\xb6\xfcz\xb9t\xd7\xae\xd7\xfe\xb9r\xb8\xb6\xbfbo\xd4./G\xe8\xfd\xe7\xear\xe8\x9b\xbfk\xff\xfa\x92\x8eO{\xfe\xae\xf7\xbf\xeb\xfd\xc7\xfcO\xf9\xf8\'r&p\xc5\xf4\x8aG\xf5\xbe\xc9\xbe\x9al\x9a\x9b\xc5\xa3\xd5\xef\xb2\xe9\xfa\xd3\xb7\xa6\xffC\xf6d\xb3\\z3\xfb\x89&\xae\xed\xf7\xcc\xd5\xe2Q\x9a|\xf3w\xed__\xd2\xf1i\xcf\xff\x9eyZ\xdc\x89\x92\xdf=\x94\xdf\xe7>\xfa\x1c\xc1\xe9\xdd-\x8f\xcc\xf7\xc5O\xd6c\xfe\xa7|\xfcu\xfes\x10\xadne\xc5\xbe\x7f\xa5\xe3K<\xff\xfc\x16R>G\xe0!\xb1\xe3\xcf\x85a\x00P\x8c"\x00\x00\x8aQ\x04\x00@1\x8a\x00\x00(F\x11P\x81V\xc2\xf82\xd5V\xf2i5\xf0\x9b\xc6\xfcoB\x11P\x81V\xc2\x98\xdft+\xf9\xf4\x1a\xf8U1\xff\x9bP\x04T\xa0\x950\xe67\xddJ\xbe[g\x02\xcc\xff*\x8a\x80\n\xb4\x12\xc6|\xea[\xc9w\xe7L\x80\xf9?\x8d"\x00\x00\x8aQ\x04\x00@1\x8a\x00\x00(\xa6\xb3\x08\xc4\xde\xeaU\x9at\xfe\xa9\xb5\xd2m\x9b\xf6\xfcc\xc7\xf1\xaf\xc4\xa7\xae\x08\x9c\xbc\xfd`\xcc\xe3\xf7f\xf0"{rx4^\xa8\x88t\xfe\xb1\xef_\xf2g\xfes\xfc\xcf\xc5g\xcf\x19\xee\xf7m\x7f\x7f8\xfan\x1e6w\xe1N\xd1(\xaf_\xfe\xb6\x9f\x7f3\xb5\xf9\x91\xbf_\xfe\xae\xed\xfb\x92\x8eOz\xfb\xbeB\xc7\xe7\xfb\xfa\xa1\xb9\xf2\xf7\xcd\xcf\xb5}_\x12\xf1\xd5\x9e\tt\xbe\x95\xac\xf6V\xba\xd2\xf9\x0b\xb7\xd2\x95\x8eO{\xfe.\xc9\xbf?8\xfe\x95\xf8\xb80\x0c\x00\x8aQ\x04\x00@1\x8a\x00\x00(F\x11\x00\x00\xc5f\x16\x81j+\xd9;\xe6\xceD\x03\xa6\xe9\x91\xce\xfa\xde\xde`\xd4%\xd1\x85\xfc/\x96\xff\xbc\xdb\xf7%\x1d\x9f\xf6\xfc]R}\x7fp\xfck\xe2\x1b\xdd#4\xa1\xbc\x05\xa9\xebf\xddbE\xfe\xed\xe4?k\xfb\xbe\xa4\xe3\xd3\x9e\xbfK[\xaf\x1f\xda\xac\xfcC\xef_\x17\x89\xf8j\x8b@^\x1b\xaac\xcbnM-\x9b\x1c\x89\xae\x9f1\t\xa6~.\xd6\xf8O\xc7\x05\xd7K\xe7/\xf4&\x98z\x1d\xf2_X|\x9dz\x7fp\xfc\xb3-Z\xfb\x7f\xe9\xd9\x1b\x84\xe7(%\x12\x00\x00\x00\x00IEND\xaeB`\x82'

img = ImageTk.PhotoImage(Image.open(BytesIO(pictures)))
panel = customtkinter.CTkLabel(app, image=img)
panel.place(relx=0.5, rely=0.16, anchor=tkinter.CENTER)


def openfilename():
    global data_id

    # open file dialog box to select image
    # The dialogue box has a title "Open"

    try:
        client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        client.connect((ip_server, 9090))
        filename = filedialog.askopenfilename(title='"pen')
        file = open(f'{filename}', mode='rb')
        data = file.read(1024)
        while data:
            client.send(data)
            data = file.read(1024)
            if not data:
                client.send('end'.encode())
        file.close()

        message = client.recv(1024)
        data_id = message.decode('utf-8')
    except:
        error()
    var.set(data_id)
    client.close()


def error():
    stat.set('Server disconnect ðŸŸ¥')
    data_id = ''
    var.set('')
    if a == 1:
        lbl3 = customtkinter.CTkLabel(
            app, textvariable=stat, font=("Arial Bold", 20))
        lbl3.place(relx=0.09, rely=0.96, anchor=tkinter.CENTER)
        lbl5 = customtkinter.CTkLabel(
            app, text='Version 0.1', font=("Arial Bold", 20))
        lbl5.place(relx=0.99, rely=0.96, anchor=tkinter.SE)
    button = customtkinter.CTkButton(master=app, text="Restart", command=res)
    button.place(relx=0.5, rely=0.7, anchor=tkinter.CENTER)
    button1 = customtkinter.CTkButton(master=app, text="Exit", command=ex)
    button1.place(relx=0.5, rely=0.8, anchor=tkinter.CENTER)
    app.mainloop()


def res():
    os.execv(sys.executable, ['python'] + sys.argv)


def ex():
    exit()


try:
    client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    client.connect((ip_server, 9090))
    client.close()

    lbl1 = customtkinter.CTkLabel(
        app, textvariable=stat, font=("Arial Bold", 20))
    lbl1.place(relx=0.08, rely=0.96, anchor=tkinter.CENTER)
    lbl5 = customtkinter.CTkLabel(
        app, text='Version 0.1', font=("Arial Bold", 20))
    lbl5.place(relx=0.95, rely=0.96, anchor=tkinter.CENTER)

    lbl2 = customtkinter.CTkLabel(
        app, text='Id:', textvariable=var, font=("Arial Bold", 20))
    lbl2.place(relx=0.5, rely=0.5, anchor=tkinter.CENTER)

    # Use CTkButton instead of tkinter Button
    button = customtkinter.CTkButton(
        master=app, text="Upload", command=openfilename)
    button.place(relx=0.5, rely=0.8, anchor=tkinter.CENTER)

except:
    a = 1
    error()

app.mainloop()
